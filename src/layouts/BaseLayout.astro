---
import Analytics from '@vercel/analytics/astro';

interface Props {
  title?: string;
  description?: string;
}

const {
  title = 'Talia Sable',
  description = 'Talia Sable'
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <title>{title}</title>
  </head>
  <body>
    <nav class="site-nav">
      <div class="nav-content">
        <a href="/" class="nav-brand">
          <img src="/taliasable-header.png" alt="Talia Sable" class="logo" />
        </a>
        <ul class="nav-links">
          <li><a href="/">About</a></li>
          <li><a href="/rates">Rates</a></li>
          <li><a href="/experiences">Experiences</a></li>
          <li><a href="/etiquette">Etiquette</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div>
    </nav>

    <main>
      <slot />
    </main>

    <footer class="site-footer">
      <div class="footer-content">
        <p>Connect with me:</p>
        <div class="footer-links">
          <a href="https://x.com/TaliaGraceSable" target="_blank" rel="noopener">Twitter</a>
          <a href="https://taliasable.substack.com" target="_blank" rel="noopener">Substack</a>
        </div>
      </div>
    </footer>

    <script is:inline>
      let lastScroll = 0;
      const nav = document.querySelector('.site-nav');

      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;

        if (currentScroll <= 0) {
          nav.classList.remove('hidden');
          return;
        }

        if (currentScroll > lastScroll && currentScroll > 100) {
          nav.classList.add('hidden');
        } else if (currentScroll < lastScroll) {
          nav.classList.remove('hidden');
        }

        lastScroll = currentScroll;
      });
    </script>
    <Analytics />
  </body>
</html>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Vollkorn:ital,wght@0,400;0,700;1,400;1,700&family=Bitter:ital,wght@0,400;0,700;1,400;1,700&display=swap');

  :root {
    /* Color tokens - Luxurious Dark Theme */
    --color-bg: #433047; /* muted purple - between bright and dark */
    --color-bg-alt: #38283d; /* slightly darker purple */
    --color-text: #f4e8d8; /* warm cream */
    --peru: #ba8748; /* peru brown-orange */
    --color-accent: #ba8748; /* peru */
    --color-accent-hover: #d4a260; /* lighter peru */
    --color-border: #ba8748; /* peru border */

    /* Layout */
    --nav-height: 100px;
    --max-content-width: 1320px;
    --spacing-sm: 1rem;
    --spacing-md: 2rem;
    --spacing-lg: 4rem;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 110%;
  }

  body {
    font-family: 'Vollkorn', 'Bitter', Georgia, serif;
    background-color: var(--color-bg-alt);
    color: var(--color-text);
    line-height: 1.7;
    position: relative;
  }

  main {
    background-color: var(--color-bg);
    min-height: 100vh;
    padding-top: var(--nav-height);
  }

  /* Hero sections - global styles */
  .hero {
    width: 100%;
    min-height: 700px;
    max-height: 95vh;
    height: 90vh;
    position: relative;
    overflow: hidden;
    background-color: var(--color-bg-alt);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    display: block;
  }

  /* Ornamental Corners */
  body::before,
  body::after {
    content: '';
    position: fixed;
    width: 220px;
    height: 220px;
    background-size: contain;
    background-repeat: no-repeat;
    z-index: 1000;
    pointer-events: none;
  }

  body::before {
    top: 0;
    left: 0;
    background-image: url('/borderupleft.png');
    background-position: top left;
  }

  body::after {
    top: 0;
    right: 0;
    background-image: url('/borderupright.png');
    background-position: top right;
  }

  /* Navigation */
  .site-nav {
    background-color: var(--color-bg);
    border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    height: var(--nav-height);
    display: flex;
    align-items: center;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    transition: transform 0.3s ease-in-out;
  }

  .site-nav.hidden {
    transform: translateY(-100%);
  }

  .nav-content {
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: 1rem var(--spacing-md) 1.75rem;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    gap: 0.25rem;
    height: 100%;
  }

  .nav-brand {
    display: block;
    text-decoration: none;
  }

  .nav-brand .logo {
    height: 55px;
    width: auto;
    display: block;
    margin-top: 1.25rem;
  }

  .nav-links {
    display: flex;
    gap: var(--spacing-md);
    list-style: none;
  }

  .nav-links a {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
    color: var(--color-accent);
    text-decoration: none;
    transition: color 0.3s;
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  .nav-links a:hover,
  .nav-links a:focus {
    color: var(--color-accent-hover);
  }


  /* Footer */
  .site-footer {
    border-top: 1px solid rgba(212, 175, 55, 0.3);
    background-color: transparent;
    padding: var(--spacing-lg) 0;
    margin-top: var(--spacing-lg);
  }

  .footer-content {
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: 0 var(--spacing-md);
    text-align: center;
  }

  .footer-content p {
    color: var(--color-text);
    opacity: 0.8;
  }

  .footer-links {
    display: flex;
    gap: var(--spacing-md);
    justify-content: center;
    margin: var(--spacing-sm) 0;
  }

  .footer-links a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color 0.3s;
  }

  .footer-links a:hover,
  .footer-links a:focus {
    color: var(--color-accent-hover);
  }

  /* Typography */
  h1, h2, h3 {
    font-family: 'Vollkorn', serif;
    color: var(--color-accent);
    font-weight: 400;
  }

  h1 {
    font-size: 3rem;
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
    letter-spacing: 0.05em;
  }

  h2 {
    font-size: 2rem;
    line-height: 1.3;
    margin-bottom: var(--spacing-sm);
  }

  h3 {
    font-size: 1.5rem;
  }

  a {
    color: var(--color-accent) !important;
    transition: color 0.3s;
  }

  a:link,
  a:visited {
    color: var(--color-accent) !important;
  }

  a:hover {
    color: var(--color-accent-hover) !important;
  }

  a:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  @media (max-width: 768px) {
    html {
      font-size: 100%;
    }

    body::before,
    body::after {
      display: none;
    }

    .nav-brand {
      font-size: 2rem;
    }

    .nav-brand .logo {
      height: 40px;
    }

    .nav-links {
      gap: 0.75rem;
    }

    .nav-links a {
      font-size: 0.8rem;
      letter-spacing: 0.03em;
    }

    h1 {
      font-size: 2.25rem;
    }
  }
</style>
